import{s as ot,n as ie,o as nt,d as at}from"../chunks/CHokvJ-H.js";import{S as it,i as st,d as G,a as se,b as De,c as Re,j as rt,k as ct,g as lt,e as Se,s as ut}from"../chunks/DjQ7aYyS.js";import{ac as dt,g as m,ad as z,ai as H,aj as ke,Q as Ne,V as b,ak as mt,al as pt,X as ht,ae as ft,W as bt,af as gt,D as yt,am as Et,aa as wt,P as Pt}from"../chunks/5ecB4tJ3.js";import{G as Tt}from"../chunks/Br_SFkwl.js";import{V as Mt}from"../chunks/UBz5w6NV.js";const Ce={type:"change"},re={type:"start"},Ie={type:"end"},Q=new mt,Ye=new pt,Ot=Math.cos(70*ht.DEG2RAD);class Lt extends dt{constructor(l,p){super(),this.object=l,this.domElement=p,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new m,this.cursor=new m,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:z.ROTATE,MIDDLE:z.DOLLY,RIGHT:z.PAN},this.touches={ONE:H.ROTATE,TWO:H.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",ae),this._domElementKeyEvents=t},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ae),this._domElementKeyEvents=null},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(Ce),e.update(),a=n.NONE},this.update=function(){const t=new m,o=new Ne().setFromUnitVectors(l.up,new m(0,1,0)),i=o.clone().invert(),r=new m,d=new Ne,x=new m,f=2*Math.PI;return function(tt=null){const Ae=e.object.position;t.copy(Ae).sub(e.target),t.applyQuaternion(o),s.setFromVector3(t),e.autoRotate&&a===n.NONE&&U(_e(tt)),e.enableDamping?(s.theta+=h.theta*e.dampingFactor,s.phi+=h.phi*e.dampingFactor):(s.theta+=h.theta,s.phi+=h.phi);let T=e.minAzimuthAngle,M=e.maxAzimuthAngle;isFinite(T)&&isFinite(M)&&(T<-Math.PI?T+=f:T>Math.PI&&(T-=f),M<-Math.PI?M+=f:M>Math.PI&&(M-=f),T<=M?s.theta=Math.max(T,Math.min(M,s.theta)):s.theta=s.theta>(T+M)/2?Math.max(T,s.theta):Math.min(M,s.theta)),s.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,s.phi)),s.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(w,e.dampingFactor):e.target.add(w),e.target.sub(e.cursor),e.target.clampLength(e.minTargetRadius,e.maxTargetRadius),e.target.add(e.cursor);let Z=!1;if(e.zoomToCursor&&V||e.object.isOrthographicCamera)s.radius=oe(s.radius);else{const O=s.radius;s.radius=oe(s.radius*y),Z=O!=s.radius}if(t.setFromSpherical(s),t.applyQuaternion(i),Ae.copy(e.target).add(t),e.object.lookAt(e.target),e.enableDamping===!0?(h.theta*=1-e.dampingFactor,h.phi*=1-e.dampingFactor,w.multiplyScalar(1-e.dampingFactor)):(h.set(0,0,0),w.set(0,0,0)),e.zoomToCursor&&V){let O=null;if(e.object.isPerspectiveCamera){const X=t.length();O=oe(X*y);const q=X-O;e.object.position.addScaledVector(ce,q),e.object.updateMatrixWorld(),Z=!!q}else if(e.object.isOrthographicCamera){const X=new m(A.x,A.y,0);X.unproject(e.object);const q=e.object.zoom;e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/y)),e.object.updateProjectionMatrix(),Z=q!==e.object.zoom;const xe=new m(A.x,A.y,0);xe.unproject(e.object),e.object.position.sub(xe).add(X),e.object.updateMatrixWorld(),O=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;O!==null&&(this.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(O).add(e.object.position):(Q.origin.copy(e.object.position),Q.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(Q.direction))<Ot?l.lookAt(e.target):(Ye.setFromNormalAndCoplanarPoint(e.object.up,e.target),Q.intersectPlane(Ye,e.target))))}else if(e.object.isOrthographicCamera){const O=e.object.zoom;e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/y)),O!==e.object.zoom&&(e.object.updateProjectionMatrix(),Z=!0)}return y=1,V=!1,Z||r.distanceToSquared(e.object.position)>c||8*(1-d.dot(e.object.quaternion))>c||x.distanceToSquared(e.target)>c?(e.dispatchEvent(Ce),r.copy(e.object.position),d.copy(e.object.quaternion),x.copy(e.target),!0):!1}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",Le),e.domElement.removeEventListener("pointerdown",we),e.domElement.removeEventListener("pointercancel",F),e.domElement.removeEventListener("wheel",Pe),e.domElement.removeEventListener("pointermove",ne),e.domElement.removeEventListener("pointerup",F),e.domElement.getRootNode().removeEventListener("keydown",Te,{capture:!0}),e._domElementKeyEvents!==null&&(e._domElementKeyEvents.removeEventListener("keydown",ae),e._domElementKeyEvents=null)};const e=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=n.NONE;const c=1e-6,s=new ke,h=new ke;let y=1;const w=new m,P=new b,E=new b,L=new b,j=new b,R=new b,N=new b,C=new b,I=new b,S=new b,ce=new m,A=new b;let V=!1;const u=[],K={};let $=!1;function _e(t){return t!==null?2*Math.PI/60*e.autoRotateSpeed*t:2*Math.PI/60/60*e.autoRotateSpeed}function W(t){const o=Math.abs(t*.01);return Math.pow(.95,e.zoomSpeed*o)}function U(t){h.theta-=t}function B(t){h.phi-=t}const le=function(){const t=new m;return function(i,r){t.setFromMatrixColumn(r,0),t.multiplyScalar(-i),w.add(t)}}(),ue=function(){const t=new m;return function(i,r){e.screenSpacePanning===!0?t.setFromMatrixColumn(r,1):(t.setFromMatrixColumn(r,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(i),w.add(t)}}(),Y=function(){const t=new m;return function(i,r){const d=e.domElement;if(e.object.isPerspectiveCamera){const x=e.object.position;t.copy(x).sub(e.target);let f=t.length();f*=Math.tan(e.object.fov/2*Math.PI/180),le(2*i*f/d.clientHeight,e.object.matrix),ue(2*r*f/d.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(le(i*(e.object.right-e.object.left)/e.object.zoom/d.clientWidth,e.object.matrix),ue(r*(e.object.top-e.object.bottom)/e.object.zoom/d.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function ee(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?y/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function de(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?y*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function te(t,o){if(!e.zoomToCursor)return;V=!0;const i=e.domElement.getBoundingClientRect(),r=t-i.left,d=o-i.top,x=i.width,f=i.height;A.x=r/x*2-1,A.y=-(d/f)*2+1,ce.set(A.x,A.y,1).unproject(e.object).sub(e.object.position).normalize()}function oe(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function me(t){P.set(t.clientX,t.clientY)}function ze(t){te(t.clientX,t.clientX),C.set(t.clientX,t.clientY)}function pe(t){j.set(t.clientX,t.clientY)}function He(t){E.set(t.clientX,t.clientY),L.subVectors(E,P).multiplyScalar(e.rotateSpeed);const o=e.domElement;U(2*Math.PI*L.x/o.clientHeight),B(2*Math.PI*L.y/o.clientHeight),P.copy(E),e.update()}function Ke(t){I.set(t.clientX,t.clientY),S.subVectors(I,C),S.y>0?ee(W(S.y)):S.y<0&&de(W(S.y)),C.copy(I),e.update()}function Ue(t){R.set(t.clientX,t.clientY),N.subVectors(R,j).multiplyScalar(e.panSpeed),Y(N.x,N.y),j.copy(R),e.update()}function Fe(t){te(t.clientX,t.clientY),t.deltaY<0?de(W(t.deltaY)):t.deltaY>0&&ee(W(t.deltaY)),e.update()}function Ze(t){let o=!1;switch(t.code){case e.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?B(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):Y(0,e.keyPanSpeed),o=!0;break;case e.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?B(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):Y(0,-e.keyPanSpeed),o=!0;break;case e.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?U(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):Y(e.keyPanSpeed,0),o=!0;break;case e.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?U(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):Y(-e.keyPanSpeed,0),o=!0;break}o&&(t.preventDefault(),e.update())}function he(t){if(u.length===1)P.set(t.pageX,t.pageY);else{const o=_(t),i=.5*(t.pageX+o.x),r=.5*(t.pageY+o.y);P.set(i,r)}}function fe(t){if(u.length===1)j.set(t.pageX,t.pageY);else{const o=_(t),i=.5*(t.pageX+o.x),r=.5*(t.pageY+o.y);j.set(i,r)}}function be(t){const o=_(t),i=t.pageX-o.x,r=t.pageY-o.y,d=Math.sqrt(i*i+r*r);C.set(0,d)}function Xe(t){e.enableZoom&&be(t),e.enablePan&&fe(t)}function ve(t){e.enableZoom&&be(t),e.enableRotate&&he(t)}function ge(t){if(u.length==1)E.set(t.pageX,t.pageY);else{const i=_(t),r=.5*(t.pageX+i.x),d=.5*(t.pageY+i.y);E.set(r,d)}L.subVectors(E,P).multiplyScalar(e.rotateSpeed);const o=e.domElement;U(2*Math.PI*L.x/o.clientHeight),B(2*Math.PI*L.y/o.clientHeight),P.copy(E)}function ye(t){if(u.length===1)R.set(t.pageX,t.pageY);else{const o=_(t),i=.5*(t.pageX+o.x),r=.5*(t.pageY+o.y);R.set(i,r)}N.subVectors(R,j).multiplyScalar(e.panSpeed),Y(N.x,N.y),j.copy(R)}function Ee(t){const o=_(t),i=t.pageX-o.x,r=t.pageY-o.y,d=Math.sqrt(i*i+r*r);I.set(0,d),S.set(0,Math.pow(I.y/C.y,e.zoomSpeed)),ee(S.y),C.copy(I);const x=(t.pageX+o.x)*.5,f=(t.pageY+o.y)*.5;te(x,f)}function Ve(t){e.enableZoom&&Ee(t),e.enablePan&&ye(t)}function We(t){e.enableZoom&&Ee(t),e.enableRotate&&ge(t)}function we(t){e.enabled!==!1&&(u.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",ne),e.domElement.addEventListener("pointerup",F)),!et(t)&&(Je(t),t.pointerType==="touch"?Oe(t):Be(t)))}function ne(t){e.enabled!==!1&&(t.pointerType==="touch"?Qe(t):qe(t))}function F(t){switch($e(t),u.length){case 0:e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",ne),e.domElement.removeEventListener("pointerup",F),e.dispatchEvent(Ie),a=n.NONE;break;case 1:const o=u[0],i=K[o];Oe({pointerId:o,pageX:i.x,pageY:i.y});break}}function Be(t){let o;switch(t.button){case 0:o=e.mouseButtons.LEFT;break;case 1:o=e.mouseButtons.MIDDLE;break;case 2:o=e.mouseButtons.RIGHT;break;default:o=-1}switch(o){case z.DOLLY:if(e.enableZoom===!1)return;ze(t),a=n.DOLLY;break;case z.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;pe(t),a=n.PAN}else{if(e.enableRotate===!1)return;me(t),a=n.ROTATE}break;case z.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;me(t),a=n.ROTATE}else{if(e.enablePan===!1)return;pe(t),a=n.PAN}break;default:a=n.NONE}a!==n.NONE&&e.dispatchEvent(re)}function qe(t){switch(a){case n.ROTATE:if(e.enableRotate===!1)return;He(t);break;case n.DOLLY:if(e.enableZoom===!1)return;Ke(t);break;case n.PAN:if(e.enablePan===!1)return;Ue(t);break}}function Pe(t){e.enabled===!1||e.enableZoom===!1||a!==n.NONE||(t.preventDefault(),e.dispatchEvent(re),Fe(Ge(t)),e.dispatchEvent(Ie))}function Ge(t){const o=t.deltaMode,i={clientX:t.clientX,clientY:t.clientY,deltaY:t.deltaY};switch(o){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100;break}return t.ctrlKey&&!$&&(i.deltaY*=10),i}function Te(t){t.key==="Control"&&($=!0,e.domElement.getRootNode().addEventListener("keyup",Me,{passive:!0,capture:!0}))}function Me(t){t.key==="Control"&&($=!1,e.domElement.getRootNode().removeEventListener("keyup",Me,{passive:!0,capture:!0}))}function ae(t){e.enabled===!1||e.enablePan===!1||Ze(t)}function Oe(t){switch(je(t),u.length){case 1:switch(e.touches.ONE){case H.ROTATE:if(e.enableRotate===!1)return;he(t),a=n.TOUCH_ROTATE;break;case H.PAN:if(e.enablePan===!1)return;fe(t),a=n.TOUCH_PAN;break;default:a=n.NONE}break;case 2:switch(e.touches.TWO){case H.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Xe(t),a=n.TOUCH_DOLLY_PAN;break;case H.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;ve(t),a=n.TOUCH_DOLLY_ROTATE;break;default:a=n.NONE}break;default:a=n.NONE}a!==n.NONE&&e.dispatchEvent(re)}function Qe(t){switch(je(t),a){case n.TOUCH_ROTATE:if(e.enableRotate===!1)return;ge(t),e.update();break;case n.TOUCH_PAN:if(e.enablePan===!1)return;ye(t),e.update();break;case n.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ve(t),e.update();break;case n.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;We(t),e.update();break;default:a=n.NONE}}function Le(t){e.enabled!==!1&&t.preventDefault()}function Je(t){u.push(t.pointerId)}function $e(t){delete K[t.pointerId];for(let o=0;o<u.length;o++)if(u[o]==t.pointerId){u.splice(o,1);return}}function et(t){for(let o=0;o<u.length;o++)if(u[o]==t.pointerId)return!0;return!1}function je(t){let o=K[t.pointerId];o===void 0&&(o=new b,K[t.pointerId]=o),o.set(t.pageX,t.pageY)}function _(t){const o=t.pointerId===u[0]?u[1]:u[0];return K[o]}e.domElement.addEventListener("contextmenu",Le),e.domElement.addEventListener("pointerdown",we),e.domElement.addEventListener("pointercancel",F),e.domElement.addEventListener("wheel",Pe,{passive:!1}),e.domElement.getRootNode().addEventListener("keydown",Te,{passive:!0,capture:!0}),this.update()}}let v,J,k,D;const jt=108.2,At=900,xt="/apple.glb",Dt=async(g,l)=>{v=new ft,J=new bt(75,window.innerWidth/window.innerHeight,.1,1e3),k=new gt({canvas:g}),k.setSize(window.innerWidth,window.innerHeight),k.xr.enabled=!0,document.body.appendChild(Mt.createButton(k));const p=new yt(16777215,.2);p.position.set(-40,50,50);const e=new Et(16777215,.2);v.add(p),v.add(e),J.position.set(0,10,100),D=new Lt(J,k.domElement),D.enableDamping=!0,D.dampingFactor=.05,D.enableZoom=!1,D.enablePan=!1,new Tt().load(xt,function(c){const h=new wt().setFromObject(c.scene).getCenter(new m);c.scene.position.sub(h),c.scene.scale.multiplyScalar(jt),D.target.copy(h);const y=new m;y.y=0,y.normalize();const w=new Pt(16777215,1,100);w.position.set(0,5,0),c.scene.add(w),v.add(c.scene);const P=Date.now();function E(){const L=Date.now()-P;Math.min(L/At,1)<1&&requestAnimationFrame(E)}E()});const a=()=>{requestAnimationFrame(a),D&&D.update(),k.render(v,J)};k.setAnimationLoop(a)},Rt=async(g,l)=>{await Dt(g)};function St(g){let l,p,e,n='<div class="bg-gray-900/25 backdrop-blur-lg absolute inset-0"></div> <nav class="flex space-x-[20rem] justify-end pointer-events-auto relative"><div class="text-white font-bold text-xl"><a href="/rum/32">Hangaren</a></div></nav>';return{c(){l=Se("canvas"),p=ut(),e=Se("header"),e.innerHTML=n,this.h()},l(a){l=Re(a,"CANVAS",{class:!0}),rt(l).forEach(G),p=ct(a),e=Re(a,"HEADER",{class:!0,"data-svelte-h":!0}),lt(e)!=="svelte-1kdus7g"&&(e.innerHTML=n),this.h()},h(){De(l,"class","w-full h-full fixed top-0 left-0"),De(e,"class","fixed bottom-0 w-full p-9 z-50 pointer-events-none")},m(a,c){se(a,l,c),g[2](l),se(a,p,c),se(a,e,c)},p:ie,i:ie,o:ie,d(a){a&&(G(l),G(p),G(e)),g[2](null)}}}function kt(g,l,p){let{data:e}=l,n;nt(()=>{Rt(n,e.artworks),setTimeout(()=>{},1e3),document.querySelectorAll("svg").forEach(s=>{s.classList.add("active")})});function a(c){at[c?"unshift":"push"](()=>{n=c,p(0,n)})}return g.$$set=c=>{"data"in c&&p(1,e=c.data)},[n,e,a]}class Kt extends it{constructor(l){super(),st(this,l,kt,St,ot,{data:1})}}export{Kt as component};
