import{s as Ze,n as He,r as $e}from"../chunks/CHokvJ-H.js";import{S as et,i as tt,d,f as lt,a as ce,h as e,l as me,b as t,c as r,j as m,g as K,k as _,e as s,s as v,m as he,n as J,o as ze,p as N,t as I}from"../chunks/DjQ7aYyS.js";import{e as Xe}from"../chunks/C_OXLtGw.js";function Ge(l,o,n){const p=l.slice();return p[6]=o[n],p[7]=o,p[8]=n,p}function Je(l){let o,n,p,c=(l[6].title||"Ny utställning")+"",b,O,x,y,a,i,f,u=l[6].description+"",w,pe,Q=l[6].img+"",Z,fe,D,$,be,M,Se=`Upload Image:
          <input name="image" type="file" accept="image/*" class="w-full px-3 py-2 border rounded" required=""/>`,_e,B,L,Ae="Submit Exhibition",ve,C,Y,ee,ge,P,Ve="Delete",xe,g,F,te,ye,R,Ee,E,Te,H,we,k,ke,S,z,A,je="Save",Ce,X,V,qe="Edit",le,Ne,j,U,Ie,W=l[6].exhibition_id+"",ae,Oe,ie,De,Ue,Me;function Ke(){l[3].call(a,l[7],l[8])}function Qe(){l[4].call(E,l[7],l[8])}function We(){l[5].call(k,l[7],l[8])}return{c(){o=s("form"),n=s("div"),p=s("h1"),b=I(c),O=v(),x=s("label"),y=I(`Name:
          `),a=s("input"),i=v(),f=s("p"),w=I(u),pe=I(", "),Z=I(Q),fe=v(),D=s("div"),be=v(),M=s("label"),M.innerHTML=Se,_e=v(),B=s("div"),L=s("button"),L.textContent=Ae,ve=v(),C=s("form"),Y=s("input"),ge=v(),P=s("button"),P.textContent=Ve,xe=v(),g=s("form"),F=s("input"),ye=v(),R=s("label"),Ee=I(`Edit Name:
          `),E=s("input"),Te=v(),H=s("label"),we=I(`Edit Description:
          `),k=s("textarea"),ke=v(),S=s("div"),z=s("div"),A=s("button"),A.textContent=je,Ce=v(),X=s("a"),V=s("button"),V.textContent=qe,Ne=v(),j=s("a"),U=s("button"),Ie=I("#"),ae=I(W),Oe=I(" →"),De=v(),this.h()},l(G){o=r(G,"FORM",{method:!0,enctype:!0,action:!0,class:!0});var h=m(o);n=r(h,"DIV",{});var T=m(n);p=r(T,"H1",{class:!0});var Ye=m(p);b=N(Ye,c),Ye.forEach(d),O=_(T),x=r(T,"LABEL",{class:!0});var Be=m(x);y=N(Be,`Name:
          `),a=r(Be,"INPUT",{name:!0,type:!0,class:!0}),Be.forEach(d),i=_(T),f=r(T,"P",{});var ne=m(f);w=N(ne,u),pe=N(ne,", "),Z=N(ne,Q),ne.forEach(d),fe=_(T),D=r(T,"DIV",{class:!0,style:!0,"aria-label":!0}),m(D).forEach(d),be=_(T),M=r(T,"LABEL",{class:!0,"data-svelte-h":!0}),K(M)!=="svelte-1jyvaom"&&(M.innerHTML=Se),_e=_(T),B=r(T,"DIV",{class:!0});var re=m(B);L=r(re,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),K(L)!=="svelte-1rozhd2"&&(L.textContent=Ae),ve=_(re),C=r(re,"FORM",{method:!0,action:!0,class:!0});var se=m(C);Y=r(se,"INPUT",{type:!0,name:!0}),ge=_(se),P=r(se,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),K(P)!=="svelte-qao4zb"&&(P.textContent=Ve),se.forEach(d),re.forEach(d),T.forEach(d),xe=_(h),g=r(h,"FORM",{method:!0,action:!0,class:!0});var q=m(g);F=r(q,"INPUT",{type:!0,name:!0}),ye=_(q),R=r(q,"LABEL",{class:!0});var Le=m(R);Ee=N(Le,`Edit Name:
          `),E=r(Le,"INPUT",{name:!0,type:!0,class:!0}),Le.forEach(d),Te=_(q),H=r(q,"LABEL",{class:!0});var Pe=m(H);we=N(Pe,`Edit Description:
          `),k=r(Pe,"TEXTAREA",{name:!0,class:!0}),m(k).forEach(d),Pe.forEach(d),ke=_(q),S=r(q,"DIV",{class:!0});var oe=m(S);z=r(oe,"DIV",{});var ue=m(z);A=r(ue,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),K(A)!=="svelte-yttso7"&&(A.textContent=je),Ce=_(ue),X=r(ue,"A",{href:!0});var Fe=m(X);V=r(Fe,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),K(V)!=="svelte-vgip0u"&&(V.textContent=qe),Fe.forEach(d),ue.forEach(d),Ne=_(oe),j=r(oe,"A",{href:!0,class:!0});var Re=m(j);U=r(Re,"BUTTON",{type:!0,class:!0});var de=m(U);Ie=N(de,"#"),ae=N(de,W),Oe=N(de," →"),de.forEach(d),Re.forEach(d),oe.forEach(d),q.forEach(d),De=_(h),h.forEach(d),this.h()},h(){t(p,"class","text-3xl dark:text-white text-black font-bold mb-6"),t(a,"name","name"),t(a,"type","text"),t(a,"class","w-full px-3 py-2 border rounded"),a.required=!0,t(x,"class","mb-2 text-black"),t(D,"class","w-full h-[22rem] rounded-md mb-4 bg-cover bg-center"),ze(D,"background-image","url('"+l[6].image_url+"')"),t(D,"aria-label",$=l[6].title),t(M,"class","mb-2 dark:text-white text-black"),t(L,"type","submit"),t(L,"class","bg-blue-500 text-white px-6 py-3 text-lg font-semibold rounded-md hover:bg-blue-600 mt-4"),t(Y,"type","hidden"),t(Y,"name","exhibition_id"),Y.value=ee=l[6].exhibition_id,t(P,"type","submit"),t(P,"class","bg-red-500 text-white px-4 py-2 text-sm rounded-md hover:bg-red-600"),t(C,"method","POST"),t(C,"action","?/delete_exhibition"),t(C,"class","mt-4"),t(B,"class","flex justify-between"),t(F,"type","hidden"),t(F,"name","exhibition_id"),F.value=te=l[6].exhibition_id,t(E,"name","name"),t(E,"type","text"),t(E,"class","w-full px-3 py-2 border rounded"),E.required=!0,t(R,"class","mb-2 text-black"),t(k,"name","description"),t(k,"class","w-full px-3 py-2 border rounded"),k.required=!0,t(H,"class","mb-2 text-black"),t(A,"type","submit"),t(A,"class","bg-yellow-500 text-white px-4 py-2 text-sm rounded-md hover:bg-yellow-600 mt-4"),t(V,"type","button"),t(V,"class","bg-green-500 text-white px-4 py-2 text-sm rounded-md hover:bg-green-600 mt-4"),t(X,"href",le=`/arkiv/${l[6].exhibition_id}`),t(U,"type","button"),t(U,"class","bg-purple-500 text-white px-3 py-2 text-sm rounded-md hover:bg-purple-600 mt-4"),t(j,"href",ie=`/rum/${l[6].exhibition_id}`),t(j,"class","inline-block"),t(S,"class","flex justify-between items-center"),t(g,"method","POST"),t(g,"action","?/edit_exhibition"),t(g,"class","mt-4"),t(o,"method","POST"),t(o,"enctype","multipart/form-data"),t(o,"action","?/submit_exhibition"),t(o,"class","exhibition section border border-solid border-gray-300 rounded-md p-7")},m(G,h){ce(G,o,h),e(o,n),e(n,p),e(p,b),e(n,O),e(n,x),e(x,y),e(x,a),J(a,l[6].title),e(n,i),e(n,f),e(f,w),e(f,pe),e(f,Z),e(n,fe),e(n,D),e(n,be),e(n,M),e(n,_e),e(n,B),e(B,L),e(B,ve),e(B,C),e(C,Y),e(C,ge),e(C,P),e(o,xe),e(o,g),e(g,F),e(g,ye),e(g,R),e(R,Ee),e(R,E),J(E,l[6].title),e(g,Te),e(g,H),e(H,we),e(H,k),J(k,l[6].description),e(g,ke),e(g,S),e(S,z),e(z,A),e(z,Ce),e(z,X),e(X,V),e(S,Ne),e(S,j),e(j,U),e(U,Ie),e(U,ae),e(U,Oe),e(o,De),Ue||(Me=[me(a,"input",Ke),me(E,"input",Qe),me(k,"input",We)],Ue=!0)},p(G,h){l=G,h&1&&c!==(c=(l[6].title||"Ny utställning")+"")&&he(b,c),h&1&&a.value!==l[6].title&&J(a,l[6].title),h&1&&u!==(u=l[6].description+"")&&he(w,u),h&1&&Q!==(Q=l[6].img+"")&&he(Z,Q),h&1&&ze(D,"background-image","url('"+l[6].image_url+"')"),h&1&&$!==($=l[6].title)&&t(D,"aria-label",$),h&1&&ee!==(ee=l[6].exhibition_id)&&(Y.value=ee),h&1&&te!==(te=l[6].exhibition_id)&&(F.value=te),h&1&&E.value!==l[6].title&&J(E,l[6].title),h&1&&J(k,l[6].description),h&1&&le!==(le=`/arkiv/${l[6].exhibition_id}`)&&t(X,"href",le),h&1&&W!==(W=l[6].exhibition_id+"")&&he(ae,W),h&1&&ie!==(ie=`/rum/${l[6].exhibition_id}`)&&t(j,"href",ie)},d(G){G&&d(o),Ue=!1,$e(Me)}}}function at(l){let o,n,p="Skapa ny utställning",c,b,O,x,y=Xe(l[0]),a=[];for(let i=0;i<y.length;i+=1)a[i]=Je(Ge(l,y,i));return{c(){o=s("div"),n=s("button"),n.textContent=p,c=v(),b=s("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){o=r(i,"DIV",{class:!0});var f=m(o);n=r(f,"BUTTON",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-t7ja9l"&&(n.textContent=p),f.forEach(d),c=_(i),b=r(i,"DIV",{class:!0});var u=m(b);for(let w=0;w<a.length;w+=1)a[w].l(u);u.forEach(d),this.h()},h(){t(n,"class","bg-green-500 mx-auto w-full max-w-sm mt-24 mb-11 text-white px-6 py-4 rounded-md hover:bg-green-600"),t(o,"class","flex justify-center"),t(b,"class","grid grid-cols-1 md:grid-cols-2 gap-8")},m(i,f){ce(i,o,f),e(o,n),ce(i,c,f),ce(i,b,f);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(b,null);O||(x=me(n,"click",l[1]),O=!0)},p(i,[f]){if(f&1){y=Xe(i[0]);let u;for(u=0;u<y.length;u+=1){const w=Ge(i,y,u);a[u]?a[u].p(w,f):(a[u]=Je(w),a[u].c(),a[u].m(b,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=y.length}},i:He,o:He,d(i){i&&(d(o),d(c),d(b)),lt(a,i),O=!1,x()}}}function it(l,o,n){let{data:p}=o,c=p.exibitions;function b(){console.log("addExhibition");let a;if(c.length>0){const i=c[c.length-1].year;a=parseInt(i)+1}else a=new Date().getFullYear();n(0,c=[...c,{name:"",year:a.toString(),description:""}])}function O(a,i){a[i].title=this.value,n(0,c)}function x(a,i){a[i].title=this.value,n(0,c)}function y(a,i){a[i].description=this.value,n(0,c)}return l.$$set=a=>{"data"in a&&n(2,p=a.data)},[c,b,p,O,x,y]}class ot extends et{constructor(o){super(),tt(this,o,it,at,Ze,{data:2})}}export{ot as component};
